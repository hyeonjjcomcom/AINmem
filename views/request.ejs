<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <link rel="stylesheet" href="/css/request.css" />
</head>
<body>
    <!-- 사이드바 -->
    <div class="sidebar-container">
        <!-- Sidebar (네비게이션 추가) -->
        <aside class="sidebar" id="sidebar">
            <div class="logo">
                AIN Mem
            </div>
            
            <nav class="nav-menu">
                <div class="nav-item active" data-page="request">
                    <svg class="nav-icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                    </svg>
                    Request
                </div>
                <div class="nav-item" data-page="memories" onclick="navigateToPage('/memories')">
                    <svg class="nav-icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                    Memories
                </div>
                <div class="nav-item" data-page="graph" onclick="navigateToPage('/graph')">
                    <svg class="nav-icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                    </svg>
                    Graph
                </div>
                <div class="nav-item" data-page="analytics" onclick="navigateToPage('/analytics')">
                    <svg class="nav-icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
                    </svg>
                    Analytics
                </div>
                <div class="nav-item" data-page="settings" onclick="navigateToPage('/settings')">
                    <svg class="nav-icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.82,11.69,4.82,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>
                    </svg>
                    Settings
                </div>
            </nav>

            <div class="user-section">
                <div class="user-avatar">U</div>
                <div>
                    <div style="font-size: 14px; font-weight: 500;">User</div>
                    <div style="font-size: 12px; color: #888;">Free Plan</div>
                </div>
            </div>
        </aside>
    </div>

    <!-- 메인 컨테이너 -->
    <div class="main-container">
        <!-- 상단 헤더 -->
        <div class="header">
            <div class="header-left">
                <a href="/dashboard" onclick="navigateToPage('/dashboard')">
                    <img class="logo" />
                </a>
                <div class="upgrade-section">
                    <a href="/dashboard/subscriptions" onclick="navigateToPage('/dashboard/subscriptions')">
                        <span>Upgrade</span>
                    </a>
                </div>
                <div class="breadcrumb">
                    <button class="org-selector" onclick="toggleOrgDropdown()">
                        <span>hyeonjeong-default-org</span>
                        <div class="dropdown-arrow">
                            <svg></svg>
                        </div>
                    </button>
                    <span>/</span>
                    <button class="project-selector" onclick="toggleProjectDropdown()">
                        <span>default-project</span>
                        <div class="dropdown-arrow">
                            <svg></svg>
                        </div>
                    </button>
                </div>
            </div>
            <div class="header-right">
                <a href="/dashboard/requests" onclick="navigateToPage('/dashboard/requests')">Dashboard</a>
                <a href="/playground" onclick="navigateToPage('/playground')">Playground</a>
                <a href="https://docs.mem0.ai/platform/quickstart/" onclick="openExternalLink('https://docs.mem0.ai/platform/quickstart/')">Docs</a>
                <a href="/settings" onclick="navigateToPage('/settings')">
                    <svg></svg>
                </a>
                <button class="notifications-btn" onclick="toggleNotifications()">
                    <svg></svg>
                </button>
                <div class="user-avatar">
                    <div class="avatar-circle">
                        <span></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 메인 컨텐츠 -->
        <div class="main-content">
            <!-- 페이지 헤더 -->
            <div class="page-header">
                <div class="page-header-content">
                    <div class="page-title-section">
                        <div class="page-title">
                            <h3></h3>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 대시보드 컨텐츠 -->
            <div class="dashboard-content">
                <div class="content-header">
                    <div class="content-title">
                        <h2></h2>
                        <p></p>
                    </div>
                    <button class="refresh-btn" onclick="refreshDashboard()">
                        <svg></svg>
                    </button>
                </div>

                <!-- 통계 카드 -->
                <div class="stats-cards">
                    <div class="stats-card">
                        <div class="stats-card-content">
                            <div class="stats-icon">
                                <svg></svg>
                            </div>
                            <p class="stats-label"></p>
                            <div class="stats-value">
                                <span>222</span>
                            </div>
                            <p class="stats-description"></p>
                        </div>
                    </div>
                    <div class="stats-card">
                        <div class="stats-card-content">
                            <div class="stats-icon">
                                <svg></svg>
                            </div>
                            <p class="stats-label"></p>
                            <p class="stats-percentage">0%</p>
                            <p class="stats-description"></p>
                        </div>
                    </div>
                    <div class="stats-card">
                        <div class="stats-card-content">
                            <div class="stats-icon">
                                <svg></svg>
                            </div>
                            <p class="stats-label"></p>
                            <p class="stats-value">137</p>
                            <p class="stats-description"></p>
                        </div>
                    </div>
                    <div class="stats-card">
                        <div class="stats-card-content">
                            <div class="stats-icon">
                                <svg></svg>
                            </div>
                            <p class="stats-label"></p>
                            <p class="stats-value">1.2K</p>
                            <p class="stats-description"></p>
                        </div>
                    </div>
                </div>

                <!-- 검색 영역 -->
                <div class="search-section">
                    <div class="search-container">
                        <input type="text" class="search-input" placeholder="Search..." onkeyup="handleSearch(event)" />
                        <svg class="search-icon"></svg>
                    </div>
                </div>

                <!-- 추가 통계 섹션 -->
                <div class="additional-stats">
                    <div class="stats-grid">
                        <div class="stats-item">
                            <div class="stats-item-header">
                                <svg class="stats-item-icon"></svg>
                                <div class="stats-item-labels">
                                    <div class="stats-primary-label">
                                        <span>Total Users</span>
                                    </div>
                                    <div class="stats-secondary-label">
                                        <span>Memories per User</span>
                                    </div>
                                </div>
                            </div>
                            <div class="stats-item-values">
                                <div class="stats-values-container">
                                    <div class="stats-primary-value">
                                        <span>1</span>
                                    </div>
                                    <div class="stats-secondary-value">
                                        <span>222</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="stats-item">
                            <div class="stats-item-header">
                                <svg class="stats-item-icon"></svg>
                                <div class="stats-item-labels">
                                    <div class="stats-primary-label">
                                        <span>Total Agents</span>
                                    </div>
                                    <div class="stats-secondary-label">
                                        <span>Memories per Agent</span>
                                    </div>
                                </div>
                            </div>
                            <div class="stats-item-values">
                                <div class="stats-values-container">
                                    <div class="stats-primary-value">
                                        <span>0</span>
                                    </div>
                                    <div class="stats-secondary-value">
                                        <span>0</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="stats-item">
                            <div class="stats-item-header">
                                <svg class="stats-item-icon"></svg>
                                <div class="stats-item-labels">
                                    <div class="stats-primary-label">
                                        <span>Total Sessions</span>
                                    </div>
                                    <div class="stats-secondary-label">
                                        <span>Memories per Session</span>
                                    </div>
                                </div>
                            </div>
                            <div class="stats-item-values">
                                <div class="stats-values-container">
                                    ...
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 데이터 테이블 -->
        <div class="data-table-container">
            <table class="data-table" id="requestsTable">
                <thead class="table-header">
                    <tr>
                        <th onclick="sortTable('timestamp')">Time</th>
                        <th onclick="sortTable('action')">Action</th>
                        <th onclick="sortTable('user')">User</th>
                        <th onclick="sortTable('payload')">Payload</th>
                        <th onclick="sortTable('duration')">Duration</th>
                        <th onclick="sortTable('status')">Status</th>
                        <th onclick="sortTable('result')">Result</th>
                    </tr>
                </thead>
                <tbody class="table-body">
                    <tr class="table-row" onclick="toggleRowDetails(this)" data-event-id="sample-1">
                        <td class="table-cell">
                            <div class="time-badge">
                                <span>2.52 s</span>
                            </div>
                        </td>
                        <td class="table-cell">
                            <span class="status-icon">
                                <div class="status-indicator">
                                    <svg></svg>
                                </div>
                            </span>
                        </td>
                        <td class="table-cell">
                            <div class="empty-cell"></div>
                        </td>
                    </tr>
                    <tr class="table-row" onclick="toggleRowDetails(this)" data-event-id="sample-2">
                        <td class="table-cell">
                            <span class="timestamp">about 17 hours ago</span>
                        </td>
                        <td class="table-cell">
                            <div class="action-badge">ADD</div>
                        </td>
                        <td class="table-cell">
                            <div class="user-info">
                                <a href="/dashboard/user/chrome-extension-user" onclick="navigateToUserPage('chrome-extension-user')">
                                    <div class="user-link">
                                        <svg class="user-icon"></svg>
                                        <span>chrome-extension-user</span>
                                    </div>
                                </a>
                            </div>
                        </td>
                        <td class="table-cell">
                            <div class="payload-preview" onclick="togglePayloadDetails(this)">
                                {
                                "infer": true,
                                "source":...
                            </div>
                        </td>
                        <td class="table-cell">
                            <div class="duration-badge">
                                <span>3.74 s</span>
                            </div>
                        </td>
                        <td class="table-cell">
                            <span class="status-icon">
                                <div class="success-indicator">
                                    <svg></svg>
                                </div>
                            </span>
                        </td>
                        <td class="table-cell">
                            <div class="empty-cell"></div>
                        </td>
                    </tr>
                    <tr class="table-row" onclick="toggleRowDetails(this)" data-event-id="sample-3">
                        <td class="table-cell">
                            <span class="timestamp">about 17 hours ago</span>
                        </td>
                        <td class="table-cell">
                            <div class="action-badge">ADD</div>
                        </td>
                        <td class="table-cell">
                            <div class="user-info">
                                <a href="/dashboard/user/chrome-extension-user" onclick="navigateToUserPage('chrome-extension-user')">
                                    <div class="user-link">
                                        <svg class="user-icon"></svg>
                                        <span>chrome-extension-user</span>
                                    </div>
                                </a>
                            </div>
                        </td>
                        <td class="table-cell">
                            <div class="payload-preview" onclick="togglePayloadDetails(this)">
                                {
                                "infer": true,
                                "source":...
                            </div>
                        </td>
                        <td class="table-cell">
                            <div class="duration-badge">
                                <span>16.88 s</span>
                            </div>
                        </td>
                        <td class="table-cell">
                            <span class="status-icon">
                                <div class="success-indicator">
                                    <svg></svg>
                                </div>
                            </span>
                        </td>
                        <td class="table-cell">
                            <div class="result-badge">
                                <div class="add-result">
                                    <svg></svg>
                                    <span>1</span>
                                    <span>Add</span>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- 필요한 JavaScript 함수들 (구현 예정) -->
    <script>
        // 네비게이션 관련 함수들
        function toggleSidebar() {
            // 사이드바 토글 기능
        }

        function navigateToPage(url) {
            // 페이지 네비게이션 기능
        }

        function openExternalLink(url) {
            // 외부 링크 열기
        }

        // 드롭다운 관련 함수들
        function toggleOrgDropdown() {
            // 조직 선택 드롭다운 토글
        }

        function toggleProjectDropdown() {
            // 프로젝트 선택 드롭다운 토글
        }

        function toggleNotifications() {
            // 알림 토글
        }

        // 대시보드 기능 함수들
        function refreshDashboard() {
            // 대시보드 새로고침
        }

        function handleSearch(event) {
            // 검색 기능 처리
        }

        // 테이블 관련 함수들
        function sortTable(column) {
            // 테이블 정렬 기능
        }

        function toggleRowDetails(row) {
            // 행 세부정보 토글
        }

        function togglePayloadDetails(element) {
            // 페이로드 세부정보 토글
        }

        function navigateToUserPage(userId) {
            // 사용자 페이지로 이동
        }
    </script>

    <script src="/js/request.js"></script>
</body>
</html>